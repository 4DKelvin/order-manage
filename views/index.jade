extends layout

block content
  form.am-g(action='/',method='get')
    .am-u-sm-12.am-u-md-3
      input.am-form-field(type='text', name='start', value=params.start, placeholder='起始日期时间', class='datetime-picker')
    .am-u-sm-12.am-u-md-3
      input.am-form-field(type='text', name='end',value=params.end, placeholder='结束日期时间', class='datetime-picker')
    .am-u-sm-12.am-u-md-2
      .am-input-group.am-input-group
        span.am-input-group-btn
          button.am-btn.am-btn-default(type='submit') 搜索
    .am-u-sm-12.am-u-md-4

  hr
  .am-g
    if !data
      .am-u-sm-12
        .am-alert.am-alert-success no orders found.
    else if data.status == 'error'
      .am-u-sm-12
        .am-alert.am-alert-warning #{data.msg.content}
    else
      .am-u-sm-12
        table.am-table.am-table-bd.am-table-striped.admin-content-table
          thead
            tr
              th ID
              th 金额
              th 航班
              th 乘客
              th 联系人
              th 管理
          tbody
            each item in data.order
              tr
                td #{item.id}
                td #{item.allprice}
                td
                  span #{item.flight.code}
                  br
                  span #{item.flight.depday}
                  br
                  span #{item.flight.deptime}
                  span -
                  span #{item.flight.arrtime}
                td
                  span #{item.passenger.name}
                  br
                  span #{item.passenger.birthday}
                  br
                  span #{item.passenger.gender}
                  br
                  span #{item.passenger.cardnum}
                td
                  span #{item.contact}
                  br
                  span #{item.contactmob}
                  br
                  span #{item.status}
                td


